# ---------------------- PROJECT SPECIFIC ---------------------------

site_name: DataJoint Documentation
site_url: https://docs.datajoint.com
repo_name: datajoint/datajoint-docs
repo_url: https://github.com/datajoint/datajoint-docs
nav:
  - Home: index.md
  - Concepts:
      - explanation/index.md
      - What's New in 2.0: explanation/whats-new-2.md
      - Relational Workflow Model: explanation/relational-workflow-model.md
      - Entity Integrity: explanation/entity-integrity.md
      - Normalization: explanation/normalization.md
      - Query Algebra: explanation/query-algebra.md
      - Type System: explanation/type-system.md
      - Computation Model: explanation/computation-model.md
      - Custom Codecs: explanation/custom-codecs.md
  - Tutorials:
      - tutorials/index.md
      - Getting Started: tutorials/01-getting-started.ipynb
      - Schema Design: tutorials/02-schema-design.ipynb
      - Data Entry: tutorials/03-data-entry.ipynb
      - Queries: tutorials/04-queries.ipynb
      - Computation: tutorials/05-computation.ipynb
      - Object-Augmented Schemas: tutorials/06-object-storage.ipynb
      - University Database: tutorials/07-university.ipynb
      - Fractal Pipeline: tutorials/08-fractal-pipeline.ipynb
      - Advanced:
          - JSON Data Type: tutorials/advanced/json-type.ipynb
          - Distributed Computing: tutorials/advanced/distributed.ipynb
          - Custom Codecs: tutorials/advanced/custom-codecs.ipynb
          - Schema Migration: tutorials/advanced/migration.ipynb
  - How-To:
      - how-to/index.md
      - Setup:
          - Installation: how-to/installation.md
          - Configure Database: how-to/configure-database.md
          - Configure Object Storage: how-to/configure-storage.md
      - Schema Design:
          - Define Tables: how-to/define-tables.md
          - Model Relationships: how-to/model-relationships.md
          - Design Primary Keys: how-to/design-primary-keys.md
      - Project Management:
          - Manage Pipeline Project: how-to/manage-pipeline-project.md
      - Data Operations:
          - Insert Data: how-to/insert-data.md
          - Query Data: how-to/query-data.md
          - Fetch Results: how-to/fetch-results.md
          - Delete Data: how-to/delete-data.md
      - Computation:
          - Run Computations: how-to/run-computations.md
          - Distributed Computing: how-to/distributed-computing.md
          - Handle Errors: how-to/handle-errors.md
          - Monitor Progress: how-to/monitor-progress.md
      - Object Storage:
          - Use Object Storage: how-to/use-object-storage.md
          - Create Custom Codecs: how-to/create-custom-codec.md
          - Manage Large Data: how-to/manage-large-data.md
      - Maintenance:
          - Migrate from 0.x: how-to/migrate-from-0x.md
          - Alter Tables: how-to/alter-tables.md
          - Backup and Restore: how-to/backup-restore.md
  - Reference:
      - reference/index.md
      - Specifications:
          - reference/specs/index.md
          - Table Declaration: reference/specs/table-declaration.md
          - Query Algebra: reference/specs/query-algebra.md
          - Data Manipulation: reference/specs/data-manipulation.md
          - Primary Keys: reference/specs/primary-keys.md
          - Semantic Matching: reference/specs/semantic-matching.md
          - Type System: reference/specs/type-system.md
          - Codec API: reference/specs/codec-api.md
          - AutoPopulate: reference/specs/autopopulate.md
          - Fetch API: reference/specs/fetch-api.md
          - Job Metadata: reference/specs/job-metadata.md
          - Migration 2.0: reference/specs/migration-2.0.md
      - Configuration: reference/configuration.md
      - Definition Syntax: reference/definition-syntax.md
      - Errors: reference/errors.md
  - API: api/  # Auto-generated via gen-files + literate-nav
  - About:
      - about/index.md
      - History: about/history.md
      - Citation: about/citation.md
      - Contributing: about/contributing.md

# ---------------------------- STANDARD -----------------------------

docs_dir: ./src
edit_uri: ./edit/main/src
theme:
  font:
    text: Roboto Slab
    code: Source Code Pro
  name: material
  custom_dir: src/.overrides
  icon:
    logo: main/company-logo
  favicon: assets/images/company-logo-blue.png
  features:
    - navigation.sections
    - navigation.indexes
    - toc.follow
    - announce.dismiss
  palette:
    - media: "(prefers-color-scheme: light)"
      scheme: datajoint
      toggle:
        icon: material/brightness-7
        name: Switch to dark mode
    - media: "(prefers-color-scheme: dark)"
      scheme: slate
      toggle:
        icon: material/brightness-4
        name: Switch to light mode
plugins:
  - search
  - mermaid2
  - section-index
  - autorefs
  - mkdocstrings:
      default_handler: python
      handlers:
        python:
          paths:
            - /datajoint-python/src  # Path to datajoint-python source (mounted in Docker)
          options:
            docstring_style: numpy
            members_order: source
            group_by_category: false
            show_source: false
            show_root_heading: true
            show_root_full_path: false
            separate_signature: true
            line_length: 88
            filters:
              - "!^_"  # Exclude private members
  - gen-files:
      scripts:
        - scripts/gen_api_pages.py
  - literate-nav:
      nav_file: SUMMARY.md
  - mkdocs-jupyter:
      include_source: true
      execute: false  # Don't execute notebooks during build
  - exclude:
      glob:
        - archive/*
        - images/*md
        - "*/SUMMARY.md"
markdown_extensions:
  - attr_list
  - md_in_html
  - toc:
      permalink: true
  - pymdownx.emoji:
      options:
        custom_icons:
          - .overrides/.icons
      emoji_index: !!python/name:material.extensions.emoji.twemoji
      emoji_generator: !!python/name:material.extensions.emoji.to_svg
  - mdx_truly_sane_lists
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:mermaid2.fence_mermaid_custom
  - pymdownx.tabbed:
      alternate_style: true
  - footnotes
  - pymdownx.details: # permit folded <details> blocks via `??? note "Title"` format
  - pymdownx.snippets # Allows including file snippets e.g. --8<-- "; src/file.md"
  - pymdownx.magiclink # Displays bare URLs as links
  - pymdownx.tasklist: # Renders check boxes in tasks lists
      custom_checkbox: true
  - pymdownx.arithmatex: # LaTeX math support
      generic: true
extra:
  generator: false # Disable watermark
  datajoint_version: "2.0"  # DataJoint Python version this documentation covers
  # Multi-version docs disabled for now (would use mike)
  # version:
  #   provider: mike
  social:
    - icon: main/company-logo
      link: https://www.datajoint.com
      name: DataJoint
    - icon: main/company-logo
      link: https://docs.datajoint.com
      name: DataJoint Documentation
    - icon: fontawesome/solid/comments
      link: https://github.com/datajoint/datajoint-python/discussions
      name: Discussions
    - icon: fontawesome/brands/linkedin
      link: https://www.linkedin.com/company/datajoint
      name: LinkedIn
    - icon: fontawesome/brands/twitter
      link: https://twitter.com/datajoint
      name: Twitter
    - icon: fontawesome/brands/github
      link: https://github.com/datajoint
      name: GitHub
    - icon: fontawesome/brands/docker
      link: https://hub.docker.com/u/datajoint
      name: DockerHub
    - icon: fontawesome/brands/python
      link: https://pypi.org/user/datajointbot
      name: PyPI
    - icon: fontawesome/brands/stack-overflow
      link: https://stackoverflow.com/questions/tagged/datajoint
      name: StackOverflow
    - icon: fontawesome/brands/youtube
      link: https://www.youtube.com/@datajoint
      name: YouTube
extra_css:
  - assets/stylesheets/extra.css
extra_javascript:
  - javascripts/mathjax.js
  - https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js
  - https://js-na1.hs-scripts.com/23133402.js # HubSpot chatbot
